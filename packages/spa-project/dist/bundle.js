function t(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function e(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?t(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):t(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,p(r.key),r)}}function i(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function o(t,e,n){return(e=p(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&c(t,e)}function u(t){return u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},u(t)}function c(t,e){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},c(t,e)}function l(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function s(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=u(t);if(e){var i=u(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l(this,n)}}function f(t){return function(t){if(Array.isArray(t))return h(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return h(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function p(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:String(e)}function d(t,e){return function(t,e){if(e.get)return e.get.call(t);return e.value}(t,v(t,e,"get"))}function y(t,e,n){return function(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}(t,v(t,e,"set"),n),n}function v(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}function m(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return n}function b(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function w(t,e,n){b(t,e),e.set(t,n)}function g(t,e){b(t,e),e.add(t)}var O=new WeakMap,j=new WeakMap,k=new WeakSet,E=new WeakSet,P=new WeakSet,R=new WeakSet,S=function(){function t(){n(this,t),g(this,R),g(this,P),g(this,E),g(this,k),w(this,O,{writable:!0,value:[]}),w(this,j,{writable:!0,value:null}),this.matchRoute={}}return i(t,[{key:"addRoute",value:function(t,e){var n=t.split("/:"),r=n[0],i=n.slice(1);return y(this,O,[].concat(f(d(this,O)),[{url:t,path:r,component:e,paramsKey:i,params:null}])),this}},{key:"setNotFound",value:function(t){return y(this,j,t),this}},{key:"serverError",value:function(t){}},{key:"init",value:function(){var t=this;m(this,k,C).call(this),window.addEventListener("click",(function(e){return m(t,R,W).call(t,e)})),window.addEventListener("popstate",(function(){return m(t,k,C).call(t)}))}}]),t}();function C(){var t=location.pathname;this.matchRoute=d(this,O).find((function(e){var n=e.url.replace(/:\w+/g,"([^\\/]+)");return new RegExp("^".concat(n,"\\/?$")).test(t)})),this.matchRoute?(this.matchRoute.paramsKey&&m(this,E,T).call(this,t),m(this,P,N).call(this,this.matchRoute.component)):m(this,P,N).call(this,d(this,j))}function T(t){var e=this,n=t.replace(this.matchRoute.path,"").slice(1).split("/").map((function(t,n){return o({},e.matchRoute.paramsKey[n],t)}));this.matchRoute.params=Object.assign.apply(Object,[{}].concat(f(n)))}function N(t){t(this.matchRoute)}function W(t){var e=t.target.getAttribute("data-navigate");e&&(t.preventDefault(),history.pushState({},"",e),m(this,k,C).call(this))}var A=new WeakMap,_=function(){function t(e){n(this,t),w(this,A,{writable:!0,value:null}),y(this,A,e),this.state=null,this.setup()}return i(t,[{key:"template",value:function(){}},{key:"setEvent",value:function(){}},{key:"setup",value:function(){}},{key:"setState",value:function(t){this.state=e(e({},this.state),t),this.render()}},{key:"render",value:function(){var t=document.createElement("main");t.innerHTML=this.template(),d(this,A).firstChild?d(this,A).replaceChild(t,d(this,A).firstChild):d(this,A).appendChild(t),this.setEvent()}}]),t}(),D=function(t){a(r,_);var e=s(r);function r(t,i){var o;return n(this,r),(o=e.call(this,t)).target=t,o.route=i,o}return i(r,[{key:"setup",value:function(){this.state={items:["item","item"]}}},{key:"setEvent",value:function(){var t=this;this.target.querySelector(".event").addEventListener("click",(function(){t.setState({items:[].concat(f(t.state.items),["item"])})}))}},{key:"template",value:function(){return"\n              <h1>Home</h1>\n              <div> ".concat(this.state.items.map((function(t){return"<li>".concat(t,"</li>")})).join(""),"</div>\n              <button class='event'\">추가</button>\n            ")}}]),r}(),M=function(t){a(r,_);var e=s(r);function r(t,i){var o;return n(this,r),(o=e.call(this,t)).route=i,o}return i(r,[{key:"template",value:function(){return"\n            <h1>Welcome to the mypage Page</h1><br>name : ".concat(this.route.params.name,"<br>age : ").concat(this.route.params.age,"\n            ")}}]),r}(),L=function(t){a(r,_);var e=s(r);function r(t,i){var o;return n(this,r),(o=e.call(this,t)).route=i,o}return i(r,[{key:"template",value:function(){return"\n            <h1>Welcome to the Content Page</h1>\n            "}}]),r}(),x=function(t){a(r,_);var e=s(r);function r(){return n(this,r),e.apply(this,arguments)}return i(r,[{key:"template",value:function(){return"\n              <div>NotFound</div>\n            "}}]),r}(),F=function(){function t(e){n(this,t),this.renderNode=e,this.initRouter()}return i(t,[{key:"initRouter",value:function(){var t=this;(new S).addRoute("/",(function(e){return new D(t.renderNode,e).render()})).addRoute("/mypage/login/:name/:age",(function(e){return new M(t.renderNode,e).render()})).addRoute("/content/:key/:value",(function(e){return new L(t.renderNode,e).render()})).setNotFound((function(){return new x(t.renderNode).render()})).init()}}]),t}(),H=function(t){a(r,_);var e=s(r);function r(t){return n(this,r),e.call(this,t)}return i(r,[{key:"template",value:function(){return'\n            <ul>\n                <li>\n                  <button data-navigate="/">Home</button>\n                </li>\n                <li>\n                  <button data-navigate="/mypage/login/limho/10">mypage</button>\n                </li>\n                <li>\n                  <button data-navigate="/content/100/2">content</button>\n                </li>\n                <li>\n                  <button data-navigate="/main">Main</button>\n                </li>\n            </ul>\n            '}}]),r}(),I=document.querySelector("#app"),K=document.createElement("header"),q=document.createElement("main");I.appendChild(K),I.appendChild(q),new H(K).render(),new F(q);
