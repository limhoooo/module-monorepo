!function(){const t={NODE_ENV:"development"};try{if(process)return process.env=Object.assign({},process.env),void Object.assign(process.env,t)}catch(t){}globalThis.process={env:t}}();class t{constructor(){this.routes=[],this.notFoundComponent=null,this.matchRoute=void 0}addRoute(t,e){const s=t.split("/:"),o=s[0],n=s.slice(1);return this.routes=[...this.routes,{url:t,path:o,component:e,paramsKey:n,params:null}],this}setNotFound(t){return this.notFoundComponent=t,this}checkRoute(){const t=location.pathname;this.matchRoute=this.routes.find((e=>{const s=e.url.replace(/:\w+/g,"([^\\/]+)");return new RegExp(`^${s}\\/?$`).test(t)})),this.matchRoute?(this.matchRoute.paramsKey&&this.checkParam(t),this.render(this.matchRoute.component)):this.render(this.notFoundComponent)}checkParam(t){if(!this.matchRoute)return;const e=t.replace(this.matchRoute.path,"").slice(1).split("/").map(((t,e)=>({[`${this.matchRoute?.paramsKey[e]}`]:t})));this.matchRoute.params=Object.assign({},...e)}render(t){t?.(this.matchRoute)}setNavigate(t){const e=t.target.getAttribute("data-navigate");e&&(t.preventDefault(),history.pushState({},"",e),this.checkRoute())}init(){this.checkRoute(),window.addEventListener("click",(t=>this.setNavigate(t))),window.addEventListener("popstate",(()=>this.checkRoute()))}}export{t as default};
